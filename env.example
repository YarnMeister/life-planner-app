# Database Connection
# For development/testing without a real DB, use: mock
# For production, use a real Neon PostgreSQL connection string
DATABASE_URL=mock

# Production Database (only used in Vercel production)
# PROD_DATABASE_URL=postgresql://user:password@host:port/database?sslmode=require

# JWT Secret for token signing and verification (REQUIRED - must be 32+ characters)
# Generate with: openssl rand -base64 32
# For development, use any string that's at least 32 characters long
JWT_SECRET=dev-jwt-secret-must-be-at-least-32-characters-long-for-validation

# Resend.com API Key for email delivery
# Sign up at https://resend.com and get your API key
# Optional: If not set, auth codes will be logged to console (dev mode)
RESEND_API_KEY=re_xxxxxxxxxx

# Email Configuration (Optional)
# Customize the sender email and app name
AUTH_EMAIL_FROM=noreply@yourdomain.com
AUTH_APP_NAME=Your App Name

# ========================================
# DEVELOPMENT / TEST BYPASS (NEVER IN PRODUCTION!)
# ========================================
# Set a fixed code to bypass email sending in development
# This allows you to test auth without a real Resend account
# The code will ALWAYS work for any email in dev/test environments
# SECURITY: This is blocked in production by env validation
DEV_BYPASS_CODE=123456

# Optional: Set a specific test email (helps with testing)
# If not set, any email will work with the bypass code
DEV_TEST_EMAIL=test@example.com
# ========================================

# Authentication Configuration (Optional - defaults provided)
# Code expiration time in minutes (default: 10)
AUTH_CODE_TTL_MINUTES=10

# Rate limiting configuration
# Time window in milliseconds (default: 300000 = 5 minutes)
AUTH_RATE_LIMIT_WINDOW_MS=300000
# Maximum requests per window (default: 3)
AUTH_RATE_LIMIT_MAX=3

# Node Environment
NODE_ENV=development

# Optional: Skip RLS tests for first pipeline run
# SKIP_RLS_TESTS=1

